{% extends 'base.html.twig' %}
{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block title %}
  {{ is_edit ? 'Edit Broker Configuration' : 'New Broker Configuration' }}
{% endblock %}

{% block body %}
  <div class="container mt-4">
    <h1>
      {{ is_edit ? 'Edit Broker Configuration' : 'New Broker Configuration' }}
    </h1>

    <a href="{{ path('broker_config_index') }}" class="btn btn-secondary mb-3">
      ‚Üê Back to List
    </a>

    {% for message in app.flashes('success') %}
      <div class="alert alert-success">
        {{ message }}
      </div>
    {% endfor %}

    {% for message in app.flashes('error') %}
      <div class="alert alert-danger">
        {{ message }}
      </div>
    {% endfor %}

    {{ form_start(form, {'attr': {'novalidate': 'novalidate' }}
    ) }}
    <div class="mb-3">
      {{ form_label(form.broker) }}
      {{ form_widget(form.broker, {'attr': {'class': 'form-control' }}
      ) }}
      {{ form_errors(form.broker) }}
    </div>

    <div class="mb-3">
      {{ form_label(form.fileName) }}
      {{ form_widget(form.fileName, {'attr': {'class': 'form-control' }}
      ) }}
      {{ form_errors(form.fileName) }}
    </div>

    <div class="mb-3">
      {{ form_label(form.fileMapping) }}
      {{ form_widget(form.fileMapping, {'attr': {'class': 'form-control', 'rows': 5 }}
      ) }}
      {{ form_errors(form.fileMapping) }}
    </div>

    <button type="submit" class="btn btn-primary">
      {{ is_edit ? 'Update' : 'Create' }}
    </button>
    {{ form_end(form) }}
  </div>
{% endblock %}
